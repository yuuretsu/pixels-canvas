(function(a,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(a=typeof globalThis<"u"?globalThis:a||self,s(a.PixelsCanvas={}))})(this,function(a){"use strict";class s{constructor(t){const{width:e,height:n,pixelSize:i,canvas:o}={pixelSize:1,...t};this.canvasContext=(o||document.createElement("canvas")).getContext("2d",{willReadFrequently:!0}),this.canvas.width=e,this.canvas.height=n,r(this.canvas,{width:`${e*i}px`,height:`${n*i}px`,imageRendering:"pixelated"})}get canvas(){return this.canvasContext.canvas}get width(){return this.canvas.width}get height(){return this.canvas.height}setPixels(t,e,n){const i=t[0].length,o=t.length,c=new ImageData(i,o);for(let d=0;d<o;d++)for(let g=0;g<i;g++){const[f,v,x,p]=t[d][g],l=(d*i+g)*4;c.data[l]=f,c.data[l+1]=v,c.data[l+2]=x,c.data[l+3]=p}this.canvasContext.putImageData(c,e,n)}getPixels(){const t=this.canvasContext.getImageData(0,0,this.width,this.height);return u(u([...t.data],4),this.width)}}function u(h,t){const e=[];for(let n=0;n<h.length;n+=t)e.push(h.slice(n,n+t));return e}function r(h,t){for(const e in t)h.style[e]=t[e]}a.PixelsCanvas=s,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
